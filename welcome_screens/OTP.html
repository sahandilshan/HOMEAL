<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>OTP</title>
  <link rel="icon" href="../assets/logos/Title.png"
        type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"/>
  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <title>OTP</title>
  <style>
    .ui-page {
      background: #282F33;
    }
    .ui-input-text, .ui-input-search {
      margin: 0.6em 0;
      border-width: 1px;
      border-style: solid;
      width: 40px !important;
      height: 40px !important;
      text-align-last: center;
    }

    .terms_and_condition {
      margin-bottom: 2%;
      color: black;
      text-align: center;
      font-size: 1.35rem !important;
    }

    .tagline {
      position: absolute;
      top:55.5%;
      left: 25%;
      transform: translate(-50%, -50%);
      text-align: center;
      font-size: 1.3rem;
      color: white;
      text-shadow: none !important;
    }


    img {
      width: 35%;
      position: absolute;
      top: 50%;
      left: 25%;
      transform: translate(-50%, -50%);
    }

    .signincard {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      color: #FFFFFF;
      width: 45%;
      background-color: #FFFFFF;
      padding-top: 40px;
      padding-bottom: 40px;
      left: 48%;
      margin: auto;
      border-radius: 35px;
    }
    .sign-in-text{
      color:black;text-align: center;
      font-weight: bold;
      font-size: 26px !important;
    }

    .font-2{
      font-size: 22px !important;
    }

      /***********************iphone potrait*************************/
      @media only screen and (max-width: 376px) {
        img {
          all: revert;
          width: 60%;
          margin-top: 80px !important;
          margin-bottom: 0px !important;
          display: block;
          margin: auto;
        }

        .signincard {
          all: revert;
          background-color: #FFFFFF;
          color: #FFFFFF;
          width: 85%;
          padding-top: 20px;
          padding-bottom:20px;
          margin: auto;
          border-radius: 35px;
        }

        .tagline{
          all: revert;
          /* width: 50%; */
          margin-top: -3px !important;
          margin-bottom: 30px !important;
          display: block;
          margin: auto;
          text-align: center ;
          font-size: 0.8rem !important;
          color: white;
          text-shadow: none !important;
        }
        .terms_and_condition {
          font-size: 0.85rem !important;
        }
        .sign-in-text{
          font-size:20px !important;
        }
        .font-2{
          font-size: 15px !important;
        }

      }

      /***********************iphone landscape*************************/
      @media only screen and (max-width: 667px) and (min-width: 376px){

        img {
          width: 33%;
          position: absolute;
          top: 50%;
          left: 25%;
          transform: translate(-50%, -50%);
        }
        .signincard {
          all: revert;
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          color: #EC7A23;
          width: 40%;
          background-color: #FFFFFF;
          padding-top: 20px;
          padding-bottom: 20px;
          left: 50%;
          margin: auto;
          border-radius: 35px;
        }
        .tagline{
          position: absolute;
          top: 56%;
          left: 25%;
          transform: translate(-50%, -50%);
          text-align: center ;
          font-size: 0.8rem;
          color: white;
          text-shadow: none;
        }
        .terms_and_condition {
          font-size: 0.8rem !important;
        }
        .sign-in-text{
          font-size:16px !important;
        }
        .font-2{
          font-size: 12px !important;
        }
      }

      /***********************ipad potrait*************************/
      @media only screen and (min-width: 668px) and (max-width: 770px) {

        img {
          all: revert;
          width: 50%;
          margin-top: 120px !important;
          margin-bottom: 0px !important;
          display: block;
          margin: auto;
        }

        .signincard {
          all: revert;
          background-color: #FFFFFF;
          color: #FFFFFF;
          width: 65%;
          padding-top: 40px;
          padding-bottom: 40px;
          margin: auto;
          border-radius: 40px;
        }
        .tagline{
          all: revert;
          margin-top: -5px !important;
          margin-bottom: 30px !important;
          display: block;
          margin: auto;
          text-align: center ;
          font-size:1.4rem !important;
          color: white;
          text-shadow: none !important;
        }
        .sign-in-text{
          font-size:28px !important;
        }
        .terms_and_condition {
          font-size: 1.1rem;
        }
        hr {
          opacity: 1 !important;
          width: 2px !important;
        }
        .font-2{
          font-size: 22px;
        }
        .ui-input-text, .ui-input-search {
          margin-right: 1rem;
          border-width: 1px;
          border-style: solid;
          width: 75px !important;
          height: 75px !important;
          text-align-last: center;
          font-size: 26px !important;
          line-height: 120px !important;
        }

      }

  </style>
</head>
<body>
<div data-role="page">
  <div>
    <img src="../assets/logos/MainDark.png">
    <div class="tagline">Relish your taste buds with home-made</div>
  </div>
  <div class="signincard container">
    <div>
      <div class="col-12 sign-in-text">OTP Verification
        Code
      </div>

      <div class="row justify-content-center">
        <div class="col-10 terms_and_condition">
          Enter the 4-digit code sent to you at
        </div>
        <div class="col-10 terms_and_condition" style="margin-bottom: 7%">
          +94 75845 54654<font color="#EC7A23"> Edit</font>
        </div>

      </div>

      <div class="row justify-content-center">
        <div class="col-2" style="margin-bottom: 2%">
          <input class="txtbox" id="otp_1" type="number" placeholder="0" maxlength="1" onkeypress="remove_err()">
        </div>
        <div class="col-2" style="margin-bottom: 2%">
          <input class="txtbox" id="otp_2" type="number" placeholder="0"  maxlength="1" onkeypress="remove_err()">
        </div>
        <div class="col-2" style="margin-bottom: 2%">
          <input class="txtbox" id="otp_3"type="number" placeholder="0"  maxlength="1" onkeypress="remove_err()">
        </div>
        <div class="col-2" style="margin-bottom: 2%">
          <input class="txtbox" id="otp_4" type="number" placeholder="0"  maxlength="1" onkeypress="remove_err()">
        </div>
      </div>
      <div class="row justify-content-center">
        <div style="color: red" id="err-message"class="col-10 text-center font-2"></div>
      </div>
      <hr>



      <div class="row justify-content-center">
        <div class="col-10">
          <button class="font-2"
              style="background-color:#EC7A23 !important;color:white;text-shadow: none!important;border-radius:20px" id="otp_verify_btn">
            Continue
          </button>
        </div>
      </div>

      <div style="color: #ec7a23" class="text-center font-2"><b>Resend code in <font color="red">02:59</font></b></div>
    </div>
  </div>

</div>
</body>
<script>
    function remove_err() {
        $('#err-message').text('');
    }

    $("#otp_verify_btn").click(function () {

        let otp1 = $.trim($('#otp_1').val());
        let otp2 = $.trim($('#otp_2').val());
        let otp3 = $.trim($('#otp_3').val());
        let otp4 = $.trim($('#otp_4').val());
        if (otp1 == '1' && otp2 == '1' && otp3 == '1' && otp4 == '1') {
            remove_err();
            var new_user = JSON.parse(sessionStorage.getItem("new_user"));
            var userlist = JSON.parse(sessionStorage.getItem("users"));
            new_user['user_id'] = '#' + (userlist.length + 1);
            userlist.push(new_user);

            sessionStorage.setItem('users', JSON.stringify(userlist));
            sessionStorage.setItem('user', JSON.stringify(new_user));
            sessionStorage.removeItem('new_user');
            window.location.href = '../home/Home.html';
        } else {
            $('#err-message').text('Please Enter the Valid OTP');
        }
    });


</script>
</html>